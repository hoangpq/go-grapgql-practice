{"dependencies":[{"name":"iterall","loc":{"line":9,"column":23}},{"name":"../error/GraphQLError","loc":{"line":11,"column":28}},{"name":"../error/locatedError","loc":{"line":13,"column":28}},{"name":"../execution/execute","loc":{"line":15,"column":23}},{"name":"../type/schema","loc":{"line":17,"column":22}},{"name":"../jsutils/invariant","loc":{"line":19,"column":25}},{"name":"./mapAsyncIterator","loc":{"line":23,"column":32}}],"generated":{"js":"\"use strict\";function e(e){return e&&e.__esModule?e:{default:e}}function r(e,r,t,n,i,u,a,s){var c=1===arguments.length?e:void 0,l=c?c.schema:e;return c?o(l,c.document,c.rootValue,c.contextValue,c.variableValues,c.operationName,c.fieldResolver,c.subscribeFieldResolver):o(l,r,t,n,i,u,a,s)}function t(e){if(e instanceof u.GraphQLError)return{errors:[e]};throw e}function o(e,r,o,i,u,a,c,l){var d=function(t){return(0,s.execute)(e,r,t,i,u,a,c)};return n(e,r,o,i,u,a,l).then(function(e){return(0,v.default)(e,d,t)},t)}function n(e,r,t,o,n,u,c){return(0,s.assertValidExecutionArguments)(e,r,n),new Promise(function(l,f){var v=(0,s.buildExecutionContext)(e,r,t,o,n,u,c),b=(0,s.getOperationRootType)(e,v.operation),p=(0,s.collectFields)(v,b,v.operation.selectionSet,Object.create(null),Object.create(null)),h=Object.keys(p)[0],m=p[h],x=m[0],E=(0,s.getFieldDef)(e,b,x.name.value);E||(0,d.default)(0,\"This subscription is not defined by the schema.\");var y=E.subscribe||v.fieldResolver,q=(0,s.addPath)(void 0,h),A=(0,s.buildResolveInfo)(v,E,m,b,q);Promise.resolve((0,s.resolveFieldValueOrError)(v,E,m,y,t,A)).then(function(e){if(e instanceof Error){var r=(0,a.locatedError)(e,m,(0,s.responsePathAsArray)(q));f(r)}(0,i.isAsyncIterable)(e)||f(new Error(\"Subscription must return Async Iterable. Received: \"+String(e))),l(e)}).catch(f)})}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.subscribe=r,exports.createSourceEventStream=n;var i=require(\"iterall\"),u=require(\"../error/GraphQLError\"),a=require(\"../error/locatedError\"),s=require(\"../execution/execute\"),c=require(\"../type/schema\"),l=require(\"../jsutils/invariant\"),d=e(l),f=require(\"./mapAsyncIterator\"),v=e(f);"},"hash":"46b5e39165df87859ef27de2cd9a6b82"}