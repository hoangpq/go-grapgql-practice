{"dependencies":[{"name":"../jsutils/invariant","loc":{"line":9,"column":25}},{"name":"../error","loc":{"line":13,"column":21}},{"name":"../language/visitor","loc":{"line":15,"column":23}},{"name":"../language/kinds","loc":{"line":17,"column":21}},{"name":"../type/schema","loc":{"line":21,"column":22}},{"name":"../utilities/TypeInfo","loc":{"line":23,"column":24}},{"name":"./specifiedRules","loc":{"line":25,"column":30}}],"generated":{"js":"\"use strict\";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function t(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function n(e,t,r,n){return e||(0,a.default)(0,\"Must provide schema\"),t||(0,a.default)(0,\"Must provide document\"),e instanceof c.GraphQLSchema||(0,a.default)(0,\"Schema must be an instance of GraphQLSchema. Also ensure that there are not multiple versions of GraphQL installed in your node_modules directory.\"),i(e,n||new l.TypeInfo(e),t,r||g.specifiedRules)}function i(e,t,r,n){var i=new h(e,r,t),s=n.map(function(e){return e(i)});return(0,u.visit)(r,(0,u.visitWithTypeInfo)(t,(0,u.visitInParallel)(s))),i.getErrors()}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.ValidationContext=void 0,exports.validate=n;var s=require(\"../jsutils/invariant\"),a=t(s),o=require(\"../error\"),u=require(\"../language/visitor\"),p=require(\"../language/kinds\"),f=e(p),c=require(\"../type/schema\"),l=require(\"../utilities/TypeInfo\"),g=require(\"./specifiedRules\"),h=exports.ValidationContext=function(){function e(t,n,i){r(this,e),this._schema=t,this._ast=n,this._typeInfo=i,this._errors=[],this._fragmentSpreads=new Map,this._recursivelyReferencedFragments=new Map,this._variableUsages=new Map,this._recursiveVariableUsages=new Map}return e.prototype.reportError=function(e){this._errors.push(e)},e.prototype.getErrors=function(){return this._errors},e.prototype.getSchema=function(){return this._schema},e.prototype.getDocument=function(){return this._ast},e.prototype.getFragment=function(e){var t=this._fragments;return t||(this._fragments=t=this.getDocument().definitions.reduce(function(e,t){return t.kind===f.FRAGMENT_DEFINITION&&(e[t.name.value]=t),e},Object.create(null))),t[e]},e.prototype.getFragmentSpreads=function(e){var t=this._fragmentSpreads.get(e);if(!t){t=[];for(var r=[e];0!==r.length;)for(var n=r.pop(),i=0;i<n.selections.length;i++){var s=n.selections[i];s.kind===f.FRAGMENT_SPREAD?t.push(s):s.selectionSet&&r.push(s.selectionSet)}this._fragmentSpreads.set(e,t)}return t},e.prototype.getRecursivelyReferencedFragments=function(e){var t=this._recursivelyReferencedFragments.get(e);if(!t){t=[];for(var r=Object.create(null),n=[e.selectionSet];0!==n.length;)for(var i=n.pop(),s=this.getFragmentSpreads(i),a=0;a<s.length;a++){var o=s[a].name.value;if(!0!==r[o]){r[o]=!0;var u=this.getFragment(o);u&&(t.push(u),n.push(u.selectionSet))}}this._recursivelyReferencedFragments.set(e,t)}return t},e.prototype.getVariableUsages=function(e){var t=this._variableUsages.get(e);if(!t){var r=[],n=new l.TypeInfo(this._schema);(0,u.visit)(e,(0,u.visitWithTypeInfo)(n,{VariableDefinition:function(){return!1},Variable:function(e){r.push({node:e,type:n.getInputType()})}})),t=r,this._variableUsages.set(e,t)}return t},e.prototype.getRecursiveVariableUsages=function(e){var t=this._recursiveVariableUsages.get(e);if(!t){t=this.getVariableUsages(e);for(var r=this.getRecursivelyReferencedFragments(e),n=0;n<r.length;n++)Array.prototype.push.apply(t,this.getVariableUsages(r[n]));this._recursiveVariableUsages.set(e,t)}return t},e.prototype.getType=function(){return this._typeInfo.getType()},e.prototype.getParentType=function(){return this._typeInfo.getParentType()},e.prototype.getInputType=function(){return this._typeInfo.getInputType()},e.prototype.getFieldDef=function(){return this._typeInfo.getFieldDef()},e.prototype.getDirective=function(){return this._typeInfo.getDirective()},e.prototype.getArgument=function(){return this._typeInfo.getArgument()},e}();"},"hash":"d929799d40d95efe92bbb467eb7baa5b"}