{"dependencies":[{"name":"../type/definition","loc":{"line":20,"column":26}},{"name":"../type/schema","loc":{"line":22,"column":22}}],"generated":{"js":"\"use strict\";function e(e,n){return[].concat(t(e,n),a(e,n),p(e,n),E(e,n),y(e,n),r(e,n).breakingChanges,_(e,n))}function n(e,n){return[].concat(r(e,n).dangerousChanges,T(e,n),u(e,n))}function t(e,n){var t=e.getTypeMap(),a=n.getTypeMap(),r=[];return Object.keys(t).forEach(function(e){a[e]||r.push({type:D.TYPE_REMOVED,description:e+\" was removed.\"})}),r}function a(e,n){var t=e.getTypeMap(),a=n.getTypeMap(),r=[];return Object.keys(t).forEach(function(e){if(a[e]){var n=t[e],p=a[e];n instanceof p.constructor||r.push({type:D.TYPE_CHANGED_KIND,description:e+\" changed from \"+o(n)+\" to \"+o(p)+\".\"})}}),r}function r(e,n){var t=e.getTypeMap(),a=n.getTypeMap(),r=[],o=[];return Object.keys(t).forEach(function(e){var n=t[e],p=a[e];if((n instanceof h.GraphQLObjectType||n instanceof h.GraphQLInterfaceType)&&p instanceof n.constructor){var i=n.getFields(),c=p.getFields();Object.keys(i).forEach(function(e){c[e]&&(i[e].args.forEach(function(t){var a=c[e].args.find(function(e){return e.name===t.name});if(a){f(t.type,a.type)?void 0!==t.defaultValue&&t.defaultValue!==a.defaultValue&&o.push({type:N.ARG_DEFAULT_VALUE_CHANGE,description:n.name+\".\"+e+\" arg \"+t.name+\" has changed defaultValue\"}):r.push({type:D.ARG_CHANGED_KIND,description:n.name+\".\"+e+\" arg \"+t.name+\" has changed type from \"+t.type.toString()+\" to \"+a.type.toString()})}else r.push({type:D.ARG_REMOVED,description:n.name+\".\"+e+\" arg \"+t.name+\" was removed\"})}),c[e].args.forEach(function(n){!i[e].args.find(function(e){return e.name===n.name})&&n.type instanceof h.GraphQLNonNull&&r.push({type:D.NON_NULL_ARG_ADDED,description:\"A non-null arg \"+n.name+\" on \"+p.name+\".\"+e+\" was added\"})}))})}}),{breakingChanges:r,dangerousChanges:o}}function o(e){if(e instanceof h.GraphQLScalarType)return\"a Scalar type\";if(e instanceof h.GraphQLObjectType)return\"an Object type\";if(e instanceof h.GraphQLInterfaceType)return\"an Interface type\";if(e instanceof h.GraphQLUnionType)return\"a Union type\";if(e instanceof h.GraphQLEnumType)return\"an Enum type\";if(e instanceof h.GraphQLInputObjectType)return\"an Input type\";throw new TypeError(\"Unknown type \"+e.constructor.name)}function p(e,n){return[].concat(i(e,n),c(e,n))}function i(e,n){var t=e.getTypeMap(),a=n.getTypeMap(),r=[];return Object.keys(t).forEach(function(e){var n=t[e],o=a[e];if((n instanceof h.GraphQLObjectType||n instanceof h.GraphQLInterfaceType)&&o instanceof n.constructor){var p=n.getFields(),i=o.getFields();Object.keys(p).forEach(function(n){if(n in i){var t=p[n].type,a=i[n].type;if(!s(t,a)){var o=(0,h.isNamedType)(t)?t.name:t.toString(),c=(0,h.isNamedType)(a)?a.name:a.toString();r.push({type:D.FIELD_CHANGED_KIND,description:e+\".\"+n+\" changed type from \"+o+\" to \"+c+\".\"})}}else r.push({type:D.FIELD_REMOVED,description:e+\".\"+n+\" was removed.\"})})}}),r}function c(e,n){var t=e.getTypeMap(),a=n.getTypeMap(),r=[];return Object.keys(t).forEach(function(e){var n=t[e],o=a[e];if(n instanceof h.GraphQLInputObjectType&&o instanceof h.GraphQLInputObjectType){var p=n.getFields(),i=o.getFields();Object.keys(p).forEach(function(n){if(n in i){var t=p[n].type,a=i[n].type;if(!f(t,a)){var o=(0,h.isNamedType)(t)?t.name:t.toString(),c=(0,h.isNamedType)(a)?a.name:a.toString();r.push({type:D.FIELD_CHANGED_KIND,description:e+\".\"+n+\" changed type from \"+o+\" to \"+c+\".\"})}}else r.push({type:D.FIELD_REMOVED,description:e+\".\"+n+\" was removed.\"})}),Object.keys(i).forEach(function(e){!(e in p)&&i[e].type instanceof h.GraphQLNonNull&&r.push({type:D.NON_NULL_INPUT_FIELD_ADDED,description:\"A non-null field \"+e+\" on input type \"+o.name+\" was added.\"})})}}),r}function s(e,n){return(0,h.isNamedType)(e)?(0,h.isNamedType)(n)&&e.name===n.name||n instanceof h.GraphQLNonNull&&s(e,n.ofType):e instanceof h.GraphQLList?n instanceof h.GraphQLList&&s(e.ofType,n.ofType)||n instanceof h.GraphQLNonNull&&s(e,n.ofType):e instanceof h.GraphQLNonNull&&(n instanceof h.GraphQLNonNull&&s(e.ofType,n.ofType))}function f(e,n){return(0,h.isNamedType)(e)?(0,h.isNamedType)(n)&&e.name===n.name:e instanceof h.GraphQLList?n instanceof h.GraphQLList&&f(e.ofType,n.ofType):e instanceof h.GraphQLNonNull&&(n instanceof h.GraphQLNonNull&&f(e.ofType,n.ofType)||!(n instanceof h.GraphQLNonNull)&&f(e.ofType,n))}function E(e,n){var t=e.getTypeMap(),a=n.getTypeMap(),r=[];return Object.keys(t).forEach(function(e){var n=t[e],o=a[e];if(n instanceof h.GraphQLUnionType&&o instanceof h.GraphQLUnionType){var p=Object.create(null);o.getTypes().forEach(function(e){p[e.name]=!0}),n.getTypes().forEach(function(n){p[n.name]||r.push({type:D.TYPE_REMOVED_FROM_UNION,description:n.name+\" was removed from union type \"+e+\".\"})})}}),r}function u(e,n){var t=e.getTypeMap(),a=n.getTypeMap(),r=[];return Object.keys(a).forEach(function(e){var n=t[e],o=a[e];if(n instanceof h.GraphQLUnionType&&o instanceof h.GraphQLUnionType){var p=Object.create(null);n.getTypes().forEach(function(e){p[e.name]=!0}),o.getTypes().forEach(function(n){p[n.name]||r.push({type:N.TYPE_ADDED_TO_UNION,description:n.name+\" was added to union type \"+e+\".\"})})}}),r}function y(e,n){var t=e.getTypeMap(),a=n.getTypeMap(),r=[];return Object.keys(t).forEach(function(e){var n=t[e],o=a[e];if(n instanceof h.GraphQLEnumType&&o instanceof h.GraphQLEnumType){var p=Object.create(null);o.getValues().forEach(function(e){p[e.name]=!0}),n.getValues().forEach(function(n){p[n.name]||r.push({type:D.VALUE_REMOVED_FROM_ENUM,description:n.name+\" was removed from enum type \"+e+\".\"})})}}),r}function T(e,n){var t=e.getTypeMap(),a=n.getTypeMap(),r=[];return Object.keys(t).forEach(function(e){var n=t[e],o=a[e];if(n instanceof h.GraphQLEnumType&&o instanceof h.GraphQLEnumType){var p=Object.create(null);n.getValues().forEach(function(e){p[e.name]=!0}),o.getValues().forEach(function(n){p[n.name]||r.push({type:N.VALUE_ADDED_TO_ENUM,description:n.name+\" was added to enum type \"+e+\".\"})})}}),r}function _(e,n){var t=e.getTypeMap(),a=n.getTypeMap(),r=[];return Object.keys(t).forEach(function(e){var n=t[e],o=a[e];if(n instanceof h.GraphQLObjectType&&o instanceof h.GraphQLObjectType){var p=n.getInterfaces(),i=o.getInterfaces();p.forEach(function(n){i.some(function(e){return e.name===n.name})||r.push({type:D.INTERFACE_REMOVED_FROM_OBJECT,description:e+\" no longer implements interface \"+n.name+\".\"})})}}),r}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.DangerousChangeType=exports.BreakingChangeType=void 0,exports.findBreakingChanges=e,exports.findDangerousChanges=n,exports.findRemovedTypes=t,exports.findTypesThatChangedKind=a,exports.findArgChanges=r,exports.findFieldsThatChangedType=p,exports.findFieldsThatChangedTypeOnInputObjectTypes=c,exports.findTypesRemovedFromUnions=E,exports.findTypesAddedToUnions=u,exports.findValuesRemovedFromEnums=y,exports.findValuesAddedToEnums=T,exports.findInterfacesRemovedFromObjectTypes=_;var h=require(\"../type/definition\"),d=require(\"../type/schema\"),D=exports.BreakingChangeType={FIELD_CHANGED_KIND:\"FIELD_CHANGED_KIND\",FIELD_REMOVED:\"FIELD_REMOVED\",TYPE_CHANGED_KIND:\"TYPE_CHANGED_KIND\",TYPE_REMOVED:\"TYPE_REMOVED\",TYPE_REMOVED_FROM_UNION:\"TYPE_REMOVED_FROM_UNION\",VALUE_REMOVED_FROM_ENUM:\"VALUE_REMOVED_FROM_ENUM\",ARG_REMOVED:\"ARG_REMOVED\",ARG_CHANGED_KIND:\"ARG_CHANGED_KIND\",NON_NULL_ARG_ADDED:\"NON_NULL_ARG_ADDED\",NON_NULL_INPUT_FIELD_ADDED:\"NON_NULL_INPUT_FIELD_ADDED\",INTERFACE_REMOVED_FROM_OBJECT:\"INTERFACE_REMOVED_FROM_OBJECT\"},N=exports.DangerousChangeType={ARG_DEFAULT_VALUE_CHANGE:\"ARG_DEFAULT_VALUE_CHANGE\",VALUE_ADDED_TO_ENUM:\"VALUE_ADDED_TO_ENUM\",TYPE_ADDED_TO_UNION:\"TYPE_ADDED_TO_UNION\"};"},"hash":"478edb2f6a6ed7ae1f2e5558b7fe9474"}