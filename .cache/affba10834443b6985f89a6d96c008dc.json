{"dependencies":[{"name":"react","loc":{"line":10,"column":21}},{"name":"prop-types","loc":{"line":14,"column":25}},{"name":"../utility/onHasCompletion","loc":{"line":18,"column":31}},{"name":"codemirror","loc":{"line":181,"column":31}},{"name":"codemirror/addon/hint/show-hint","loc":{"line":96,"column":14}},{"name":"codemirror/addon/edit/matchbrackets","loc":{"line":97,"column":14}},{"name":"codemirror/addon/edit/closebrackets","loc":{"line":98,"column":14}},{"name":"codemirror/addon/fold/brace-fold","loc":{"line":99,"column":14}},{"name":"codemirror/addon/fold/foldgutter","loc":{"line":100,"column":14}},{"name":"codemirror/addon/lint/lint","loc":{"line":101,"column":14}},{"name":"codemirror/addon/search/searchcursor","loc":{"line":102,"column":14}},{"name":"codemirror/addon/search/jump-to-line","loc":{"line":103,"column":14}},{"name":"codemirror/addon/dialog/dialog","loc":{"line":104,"column":14}},{"name":"codemirror/keymap/sublime","loc":{"line":105,"column":14}},{"name":"codemirror-graphql/variables/hint","loc":{"line":106,"column":14}},{"name":"codemirror-graphql/variables/lint","loc":{"line":107,"column":14}},{"name":"codemirror-graphql/variables/mode","loc":{"line":108,"column":14}}],"generated":{"js":"\"use strict\";function e(e){return e&&e.__esModule?e:{default:e}}function r(e,r){if(!(e instanceof r))throw new TypeError(\"Cannot call a class as a function\")}function t(e,r){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!r||\"object\"!=typeof r&&\"function\"!=typeof r?e:r}function o(e,r){if(\"function\"!=typeof r&&null!==r)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.VariableEditor=void 0;var i=function(){function e(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(r,t,o){return t&&e(r.prototype,t),o&&e(r,o),r}}(),n=require(\"react\"),a=e(n),u=require(\"prop-types\"),l=e(u),s=require(\"../utility/onHasCompletion\"),d=e(s),p=exports.VariableEditor=function(e){function n(e){r(this,n);var o=t(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return o._onKeyUp=function(e,r){var t=r.keyCode;(t>=65&&t<=90||!r.shiftKey&&t>=48&&t<=57||r.shiftKey&&189===t||r.shiftKey&&222===t)&&o.editor.execCommand(\"autocomplete\")},o._onEdit=function(){o.ignoreChangeEvent||(o.cachedValue=o.editor.getValue(),o.props.onEdit&&o.props.onEdit(o.cachedValue))},o._onHasCompletion=function(e,r){(0,d.default)(e,r,o.props.onHintInformationRender)},o.cachedValue=e.value||\"\",o}return o(n,a.default.Component),i(n,[{key:\"componentDidMount\",value:function(){var e=this,r=require(\"codemirror\");require(\"codemirror/addon/hint/show-hint\"),require(\"codemirror/addon/edit/matchbrackets\"),require(\"codemirror/addon/edit/closebrackets\"),require(\"codemirror/addon/fold/brace-fold\"),require(\"codemirror/addon/fold/foldgutter\"),require(\"codemirror/addon/lint/lint\"),require(\"codemirror/addon/search/searchcursor\"),require(\"codemirror/addon/search/jump-to-line\"),require(\"codemirror/addon/dialog/dialog\"),require(\"codemirror/keymap/sublime\"),require(\"codemirror-graphql/variables/hint\"),require(\"codemirror-graphql/variables/lint\"),require(\"codemirror-graphql/variables/mode\"),this.editor=r(this._node,{value:this.props.value||\"\",lineNumbers:!0,tabSize:2,mode:\"graphql-variables\",theme:this.props.editorTheme||\"graphiql\",keyMap:\"sublime\",autoCloseBrackets:!0,matchBrackets:!0,showCursorWhenSelecting:!0,readOnly:!!this.props.readOnly&&\"nocursor\",foldGutter:{minFoldSize:4},lint:{variableToType:this.props.variableToType},hintOptions:{variableToType:this.props.variableToType},gutters:[\"CodeMirror-linenumbers\",\"CodeMirror-foldgutter\"],extraKeys:{\"Cmd-Space\":function(){return e.editor.showHint({completeSingle:!1})},\"Ctrl-Space\":function(){return e.editor.showHint({completeSingle:!1})},\"Alt-Space\":function(){return e.editor.showHint({completeSingle:!1})},\"Shift-Space\":function(){return e.editor.showHint({completeSingle:!1})},\"Cmd-Enter\":function(){e.props.onRunQuery&&e.props.onRunQuery()},\"Ctrl-Enter\":function(){e.props.onRunQuery&&e.props.onRunQuery()},\"Shift-Ctrl-P\":function(){e.props.onPrettifyQuery&&e.props.onPrettifyQuery()},\"Cmd-F\":\"findPersistent\",\"Ctrl-F\":\"findPersistent\",\"Ctrl-Left\":\"goSubwordLeft\",\"Ctrl-Right\":\"goSubwordRight\",\"Alt-Left\":\"goGroupLeft\",\"Alt-Right\":\"goGroupRight\"}}),this.editor.on(\"change\",this._onEdit),this.editor.on(\"keyup\",this._onKeyUp),this.editor.on(\"hasCompletion\",this._onHasCompletion)}},{key:\"componentDidUpdate\",value:function(e){var r=require(\"codemirror\");this.ignoreChangeEvent=!0,this.props.variableToType!==e.variableToType&&(this.editor.options.lint.variableToType=this.props.variableToType,this.editor.options.hintOptions.variableToType=this.props.variableToType,r.signal(this.editor,\"change\",this.editor)),this.props.value!==e.value&&this.props.value!==this.cachedValue&&(this.cachedValue=this.props.value,this.editor.setValue(this.props.value)),this.ignoreChangeEvent=!1}},{key:\"componentWillUnmount\",value:function(){this.editor.off(\"change\",this._onEdit),this.editor.off(\"keyup\",this._onKeyUp),this.editor.off(\"hasCompletion\",this._onHasCompletion),this.editor=null}},{key:\"render\",value:function(){var e=this;return a.default.createElement(\"div\",{className:\"codemirrorWrap\",ref:function(r){e._node=r}})}},{key:\"getCodeMirror\",value:function(){return this.editor}},{key:\"getClientHeight\",value:function(){return this._node&&this._node.clientHeight}}]),n}();p.propTypes={variableToType:l.default.object,value:l.default.string,onEdit:l.default.func,readOnly:l.default.bool,onHintInformationRender:l.default.func,onPrettifyQuery:l.default.func,onRunQuery:l.default.func,editorTheme:l.default.string};"},"hash":"8f9d82dcf4885e96fbaa8480bb7d0bdb"}